import{a as y}from"./axios-DkDr-_XN.js";import{H as $,i as a,r as g,o as l,e as m,w as A,a as e,c as w,F as b,L as T,t as _,a7 as I,D as B,q as z,u as W}from"./index-Csy_03Ik.js";import{V as v}from"./VTable-CVQIvV2I.js";const j=e("thead",null,[e("tr",null,[e("th",{class:"text-center",style:{width:"50%"}}," Title "),e("th",{class:"text-uppercase text-center",style:{width:"50%"}}," Date ")])],-1),R={class:"text-center"},V=["onClick"],L={class:"text-center"},J={__name:"ViewRecentWiki",setup(p){$(),a("serverAddress");const u=a("wikiAddress"),n=a("userAddress"),i=a("auth");async function d(){const s=await fetch(`http://${n}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},credentials:"include"});if(!s.ok)alert("인증에 실패하였습니다.");else return s.json()}let r="Bearer ";r=r+i;const o=g([]);async function f(){try{const s=await d(),h=await y.get(`http://${u}/api/wikilog/recent`,{headers:{Authorization:r}});o.value=h.data}catch(s){console.log(s)}}function k(s){window.location.href=`/readwiki/${s}`}return f(),(s,h)=>(l(),m(v,null,{default:A(()=>[j,e("tbody",null,[(l(!0),w(b,null,T(o.value,(t,c)=>(l(),w("tr",{key:c},[e("td",R,[e("a",{onClick:x=>k(t.wikiId)},_(t.title),9,V)]),e("td",L,_(t.date.substring(0,10)),1)]))),128))])]),_:1}))}},S=p=>{const u=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;p=p.replace(u,(i,d,r,o)=>d+d+r+r+o+o);const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(p);return n?`${Number.parseInt(n[1],16)},${Number.parseInt(n[2],16)},${Number.parseInt(n[3],16)}`:null},D=e("thead",null,[e("tr",null,[e("th",{class:"text-center",style:{width:"50%"}}," Title "),e("th",{class:"text-uppercase text-center",style:{width:"50%"}}," Like ")])],-1),E={class:"text-center"},N=["onClick"],G={class:"text-center"},K={__name:"ViewWikiLikeRank",setup(p){$(),I(),a("serverAddress");const u=a("wikiAddress"),n=a("userAddress"),i=a("auth");async function d(){const t=await fetch(`http://${n}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},credentials:"include"});if(!t.ok)alert("인증에 실패하였습니다.");else return t.json()}let r="Bearer ";r=r+i;const o=B(),f=[{data:[0,20,5,30,15,45]}];z(()=>{const t=o.current.value.colors,c=o.current.value.variables;return{chart:{parentHeightOffset:0,toolbar:{show:!1}},tooltip:{enabled:!1},grid:{borderColor:`rgba(${S(String(c["border-color"]))},${c["border-opacity"]})`,strokeDashArray:6,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:-10,left:-7,right:5,bottom:5}},stroke:{width:3,lineCap:"butt",curve:"straight"},colors:[t.primary],markers:{size:6,offsetY:4,offsetX:-2,strokeWidth:3,colors:["transparent"],strokeColors:"transparent",discrete:[{size:5.5,seriesIndex:0,strokeColor:t.primary,fillColor:t.surface,dataPointIndex:f[0].data.length-1}],hover:{size:7}},xaxis:{labels:{show:!1},axisTicks:{show:!1},axisBorder:{show:!1}},yaxis:{labels:{show:!1}}}});const k=g([]);async function s(){try{const t=await d(),c=await y.get(`http://${u}/api/wikilike/topCounts`,{headers:{Authorization:r}});k.value=c.data}catch(t){console.log(t)}}const h=t=>{window.location.href=`/readwiki/${t}`};return s(),(t,c)=>(l(),m(v,null,{default:A(()=>[D,e("tbody",null,[(l(!0),w(b,null,T(k.value,(x,C)=>(l(),w("tr",{key:C},[e("td",E,[e("a",{onClick:O=>h(x.wikiId)},_(x.title),9,N)]),e("td",G,_(x.count),1)]))),128))])]),_:1}))}},U=e("thead",null,[e("tr",null,[e("th",{class:"text-center",style:{width:"50%"}}," Title "),e("th",{class:"text-uppercase text-center",style:{width:"50%"}}," Star ")])],-1),F={class:"text-center"},H=["onClick"],q={class:"text-center"},M={__name:"ViewWikiStarRank",setup(p){$(),a("serverAddress");const u=a("wikiAddress"),n=a("userAddress"),i=a("auth");async function d(){const s=await fetch(`http://${n}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},credentials:"include"});if(!s.ok)alert("인증에 실패하였습니다.");else return s.json()}let r="Bearer ";r=r+i;const o=g([]);async function f(){try{const s=await d(),h=await y.get(`http://${u}/api/wikistar/topCounts`,{headers:{Authorization:r}});o.value=h.data}catch(s){console.log(s)}}function k(s){window.location.href=`/readwiki/${s}`}return f(),(s,h)=>(l(),m(v,null,{default:A(()=>[U,e("tbody",null,[(l(!0),w(b,null,T(W(o),(t,c)=>(l(),w("tr",{key:c},[e("td",F,[e("a",{onClick:x=>k(t.wikiId)},_(t.title),9,H)]),e("td",q,_(t.starCount),1)]))),128))])]),_:1}))}};export{K as _,M as a,J as b};
