import{i as n,H as _,r as T,o as y,e as v,w as a,u as e,b as t,a as i,P as w,N as p,M as c}from"./index-Csy_03Ik.js";import{b as x,d as A,a as d,V as B}from"./VCard-Dn6rlqdV.js";import{V as C}from"./VTextField-C2KP5el_.js";import{V as $}from"./VTextarea-CQUp357K.js";import"./VGrid-CkWBtd8r.js";import"./VImg-AgknyUsB.js";import"./VInput-D2rLtPSR.js";import"./index-Duozb8DO.js";const N=i("p",null,"Table 생성",-1),O={__name:"createtable",setup(j){const u=n("auth");n("serverAddress");const m=n("tableAddress"),f=n("userAddress");async function V(){const l=await fetch(`http://${f}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},credentials:"include"});if(!l.ok)alert("인증에 실패하였습니다.");else return l.json()}const b=_(),o=T({name:"",description:""});async function h(){const l=await V();(await fetch(`http://${m}/api/table/create/${l}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(o.value),credentials:"include"})).ok?b.push({path:"/table"}):alert("실패!")}return(l,s)=>(y(),v(e(B),null,{default:a(()=>[t(e(d),{cols:"12",md:"8",class:"mb-4"},{default:a(()=>[t(x,{class:"position-relative"},{default:a(()=>[t(A,null,{default:a(()=>[i("div",null,[i("form",{onSubmit:s[2]||(s[2]=w(r=>h(),["prevent"]))},[N,t(e(d),null,{default:a(()=>[t(e(C),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":s[0]||(s[0]=r=>e(o).name=r),placeholder:"조직 이름",label:"조직 이름"},null,8,["modelValue"])]),_:1}),t(e(d),null,{default:a(()=>[t(e($),{id:"desc",modelValue:e(o).description,"onUpdate:modelValue":s[1]||(s[1]=r=>e(o).description=r),placeholder:"설명",label:"설명"},null,8,["modelValue"])]),_:1}),t(e(d),{cols:"12"},{default:a(()=>[t(p,{type:"submit",class:"me-5"},{default:a(()=>[c(" Submit ")]),_:1}),t(p,{color:"secondary",type:"reset",variant:"outlined"},{default:a(()=>[c(" Reset ")]),_:1})]),_:1})],32)])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{O as default};
