import{_ as g}from"./PostSort-C8CHrn04.js";import{H as h,i,r as b,o as y,e as T,w as a,u as e,b as t,a as p,N as w,M as C}from"./index-Csy_03Ik.js";import{b as v,d as x,a as r,V as A}from"./VCard-Dn6rlqdV.js";import{V as $}from"./VTextarea-CQUp357K.js";import{V as u}from"./VTextField-C2KP5el_.js";import"./PostModal-DYxFwaA8.js";import"./Reply-DcX9_dpw.js";import"./avatar-1-BeeGmpGQ.js";import"./VSpacer-B8EKNrvY.js";import"./index-Duozb8DO.js";import"./VImg-AgknyUsB.js";import"./VGrid-CkWBtd8r.js";import"./VDivider-COcjAoGG.js";import"./dialog-transition-BELgG3Ok.js";import"./axios-DkDr-_XN.js";import"./VTable-CVQIvV2I.js";import"./VInput-D2rLtPSR.js";const B=p("p",null,"Post 작성",-1),K={__name:"writepost",setup(k){const m=h();i("serverAddress");const c=i("postAddress"),f=i("userAddress");async function V(){const n=await fetch(`http://${f}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},credentials:"include"});if(!n.ok)alert("인증에 실패하였습니다.");else return n.json()}const d=i("auth"),s=b({title:"",content:"",category:"",tag:""});async function _(){const n=await V(),o={username:sessionStorage.getItem("myname"),postTitle:s.value.title,postContent:s.value.content,tag:s.value.tag};(await fetch(`http://${c}/api/post/create/${n}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(o),credentials:"include"})).ok?m.go(-1):alert("실패!")}return(n,o)=>(y(),T(e(A),null,{default:a(()=>[t(e(r),{cols:"12",md:"8",class:"mb-4"},{default:a(()=>[t(v,{class:"position-relative"},{default:a(()=>[t(x,null,{default:a(()=>[p("div",null,[B,t(e(r),null,{default:a(()=>[t(e(u),{id:"title",modelValue:e(s).title,"onUpdate:modelValue":o[0]||(o[0]=l=>e(s).title=l),placeholder:"제목",label:"제목"},null,8,["modelValue"])]),_:1}),t(e(r),null,{default:a(()=>[t(e($),{id:"content",modelValue:e(s).content,"onUpdate:modelValue":o[1]||(o[1]=l=>e(s).content=l),placeholder:"본문",label:"본문"},null,8,["modelValue"])]),_:1}),t(e(r),null,{default:a(()=>[t(e(u),{id:"tag",modelValue:e(s).tag,"onUpdate:modelValue":o[2]||(o[2]=l=>e(s).tag=l),placeholder:"태그",label:"태그"},null,8,["modelValue"])]),_:1}),t(e(r),{cols:"12"},{default:a(()=>[t(w,{onClick:o[3]||(o[3]=l=>_()),type:"submit",class:"me-5"},{default:a(()=>[C(" Submit ")]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),t(e(r),{cols:"12",md:"4"},{default:a(()=>[t(g)]),_:1})]),_:1}))}};export{K as default};
