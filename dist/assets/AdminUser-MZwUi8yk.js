import{v as oe,S as ke,y as ae,z as pe,q as F,C as le,x as Ce,b as t,B as de,A as st,ac as nt,bt as Fe,T as xe,X as be,Y as ot,ag as at,bh as Ge,a0 as lt,ah as Oe,r as b,s as Z,l as He,aP as it,N as se,I as fe,ay as rt,an as ut,i as M,aw as ct,a4 as Ye,b2 as we,aD as dt,bu as vt,ae as ft,a6 as ht,bv as Be,aF as pt,V as G,aG as mt,bd as yt,bw as gt,a1 as kt,F as J,al as wt,at as _t,Z as $t,m as ne,ai as Ct,bx as xt,o as P,e as te,w as f,a,t as B,u as T,c as O,h as N,j as re,M as E,H as We,E as ue,L as ve,aN as Xe,P as _e,aO as bt,a7 as Tt}from"./index-Csy_03Ik.js";import{a as $e}from"./avatar-1-BeeGmpGQ.js";import{a as X,d as ce,V as me,c as Ne,e as It,b as Te}from"./VCard-Dn6rlqdV.js";import{V as Vt}from"./VForm-DZ8uuMSf.js";import{m as At,V as Ee}from"./VSelectionControl-Cw0oUU0K.js";import{V as Ie}from"./VDivider-COcjAoGG.js";import{m as St,u as zt,V as Pe}from"./VInput-D2rLtPSR.js";import{_ as Bt}from"./Reply-DcX9_dpw.js";import{i as je,c as Et,s as Pt,a as jt}from"./index-Duozb8DO.js";import{u as Dt,V as Ut,a as Rt,b as De,c as Ue,e as Mt}from"./VSpacer-B8EKNrvY.js";import{V as Ve}from"./VTable-CVQIvV2I.js";import{V as Lt}from"./VGrid-CkWBtd8r.js";import{c as Ft,d as Gt}from"./dialog-transition-BELgG3Ok.js";import{M as Ot}from"./VImg-AgknyUsB.js";import"./VTextarea-CQUp357K.js";const qe=oe({indeterminate:Boolean,indeterminateIcon:{type:ke,default:"$checkboxIndeterminate"},...At({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),ye=ae()({name:"VCheckboxBtn",props:qe(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:o}=n;const s=pe(e,"indeterminate"),u=pe(e,"modelValue");function d(i){s.value&&(s.value=!1)}const l=F(()=>s.value?e.indeterminateIcon:e.falseIcon),g=F(()=>s.value?e.indeterminateIcon:e.trueIcon);return le(()=>{const i=Ce(Ee.filterProps(e),["modelValue"]);return t(Ee,de(i,{modelValue:u.value,"onUpdate:modelValue":[m=>u.value=m,d],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:l.value,trueIcon:g.value,"aria-checked":s.value?"mixed":void 0}),o)}),{}}}),Ht=oe({...St(),...Ce(qe(),["inline"])},"VCheckbox"),Yt=ae()({name:"VCheckbox",inheritAttrs:!1,props:Ht(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,n){let{attrs:o,slots:s}=n;const u=pe(e,"modelValue"),{isFocused:d,focus:l,blur:g}=zt(e),i=st(),m=F(()=>e.id||`checkbox-${i}`);return le(()=>{const[_,y]=nt(o),C=Pe.filterProps(e),x=ye.filterProps(e);return t(Pe,de({class:["v-checkbox",e.class]},_,C,{modelValue:u.value,"onUpdate:modelValue":h=>u.value=h,id:m.value,focused:d.value,style:e.style}),{...s,default:h=>{let{id:j,messagesId:R,isDisabled:U,isReadonly:L}=h;return t(ye,de(x,{id:j.value,"aria-describedby":R.value,disabled:U.value,readonly:L.value},y,{modelValue:u.value,"onUpdate:modelValue":$=>u.value=$,onFocus:l,onBlur:g}),s)}})}),{}}}),Wt=e=>{const{touchstartX:n,touchendX:o,touchstartY:s,touchendY:u}=e,d=.5,l=16;e.offsetX=o-n,e.offsetY=u-s,Math.abs(e.offsetY)<d*Math.abs(e.offsetX)&&(e.left&&o<n-l&&e.left(e),e.right&&o>n+l&&e.right(e)),Math.abs(e.offsetX)<d*Math.abs(e.offsetY)&&(e.up&&u<s-l&&e.up(e),e.down&&u>s+l&&e.down(e))};function Xt(e,n){var s;const o=e.changedTouches[0];n.touchstartX=o.clientX,n.touchstartY=o.clientY,(s=n.start)==null||s.call(n,{originalEvent:e,...n})}function Nt(e,n){var s;const o=e.changedTouches[0];n.touchendX=o.clientX,n.touchendY=o.clientY,(s=n.end)==null||s.call(n,{originalEvent:e,...n}),Wt(n)}function qt(e,n){var s;const o=e.changedTouches[0];n.touchmoveX=o.clientX,n.touchmoveY=o.clientY,(s=n.move)==null||s.call(n,{originalEvent:e,...n})}function Kt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:o=>Xt(o,n),touchend:o=>Nt(o,n),touchmove:o=>qt(o,n)}}function Zt(e,n){var g;const o=n.value,s=o!=null&&o.parent?e.parentElement:e,u=(o==null?void 0:o.options)??{passive:!0},d=(g=n.instance)==null?void 0:g.$.uid;if(!s||!d)return;const l=Kt(n.value);s._touchHandlers=s._touchHandlers??Object.create(null),s._touchHandlers[d]=l,Fe(l).forEach(i=>{s.addEventListener(i,l[i],u)})}function Jt(e,n){var d,l;const o=(d=n.value)!=null&&d.parent?e.parentElement:e,s=(l=n.instance)==null?void 0:l.$.uid;if(!(o!=null&&o._touchHandlers)||!s)return;const u=o._touchHandlers[s];Fe(u).forEach(g=>{o.removeEventListener(g,u[g])}),delete o._touchHandlers[s]}const Ke={mounted:Zt,unmounted:Jt},Qt=Ke,Ze=Symbol.for("vuetify:v-window"),Je=Symbol.for("vuetify:v-window-group"),es=oe({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...xe(),...be(),...ot()},"VWindow"),ts=ae()({name:"VWindow",directives:{Touch:Ke},props:es(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:o}=n;const{themeClasses:s}=at(e),{isRtl:u}=Ge(),{t:d}=lt(),l=Oe(e,Je),g=b(),i=F(()=>u.value?!e.reverse:e.reverse),m=Z(!1),_=F(()=>{const k=e.direction==="vertical"?"y":"x",V=(i.value?!m.value:m.value)?"-reverse":"";return`v-window-${k}${V}-transition`}),y=Z(0),C=b(void 0),x=F(()=>l.items.value.findIndex(k=>l.selected.value.includes(k.id)));He(x,(k,A)=>{const V=l.items.value.length,H=V-1;V<=2?m.value=k<A:k===H&&A===0?m.value=!0:k===0&&A===H?m.value=!1:m.value=k<A}),it(Ze,{transition:_,isReversed:m,transitionCount:y,transitionHeight:C,rootRef:g});const h=F(()=>e.continuous||x.value!==0),j=F(()=>e.continuous||x.value!==l.items.value.length-1);function R(){h.value&&l.prev()}function U(){j.value&&l.next()}const L=F(()=>{const k=[],A={icon:u.value?e.nextIcon:e.prevIcon,class:`v-window__${i.value?"right":"left"}`,onClick:l.prev,ariaLabel:d("$vuetify.carousel.prev")};k.push(h.value?o.prev?o.prev({props:A}):t(se,A,null):t("div",null,null));const V={icon:u.value?e.prevIcon:e.nextIcon,class:`v-window__${i.value?"left":"right"}`,onClick:l.next,ariaLabel:d("$vuetify.carousel.next")};return k.push(j.value?o.next?o.next({props:V}):t(se,V,null):t("div",null,null)),k}),$=F(()=>e.touch===!1?e.touch:{...{left:()=>{i.value?R():U()},right:()=>{i.value?U():R()},start:A=>{let{originalEvent:V}=A;V.stopPropagation()}},...e.touch===!0?{}:e.touch});return le(()=>fe(t(e.tag,{ref:g,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},s.value,e.class],style:e.style},{default:()=>{var k,A;return[t("div",{class:"v-window__container",style:{height:C.value}},[(k=o.default)==null?void 0:k.call(o,{group:l}),e.showArrows!==!1&&t("div",{class:"v-window__controls"},[L.value])]),(A=o.additional)==null?void 0:A.call(o,{group:l})]}}),[[rt("touch"),$.value]])),{group:l}}}),ss=oe({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...xe(),...ut(),...Ft()},"VWindowItem"),ge=ae()({name:"VWindowItem",directives:{Touch:Qt},props:ss(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:o}=n;const s=M(Ze),u=ct(e,Je),{isBooted:d}=Dt();if(!s||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const l=Z(!1),g=F(()=>d.value&&(s.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function i(){!l.value||!s||(l.value=!1,s.transitionCount.value>0&&(s.transitionCount.value-=1,s.transitionCount.value===0&&(s.transitionHeight.value=void 0)))}function m(){var h;l.value||!s||(l.value=!0,s.transitionCount.value===0&&(s.transitionHeight.value=we((h=s.rootRef.value)==null?void 0:h.clientHeight)),s.transitionCount.value+=1)}function _(){i()}function y(h){l.value&&dt(()=>{!g.value||!l.value||!s||(s.transitionHeight.value=we(h.clientHeight))})}const C=F(()=>{const h=s.isReversed.value?e.reverseTransition:e.transition;return g.value?{name:typeof h!="string"?s.transition.value:h,onBeforeEnter:m,onAfterEnter:i,onEnterCancelled:_,onBeforeLeave:m,onAfterLeave:i,onLeaveCancelled:_,onEnter:y}:!1}),{hasContent:x}=Gt(e,u.isSelected);return le(()=>t(Ot,{transition:C.value,disabled:!d.value},{default:()=>{var h;return[fe(t("div",{class:["v-window-item",u.selectedClass.value,e.class],style:e.style},[x.value&&((h=o.default)==null?void 0:h.call(o))]),[[Ye,u.isSelected.value]])]}})),{groupItem:u}}});function Re(e){const o=Math.abs(e);return Math.sign(e)*(o/((1/.501-2)*(1-o)+1))}function Me(e){let{selectedElement:n,containerSize:o,contentSize:s,isRtl:u,currentScrollOffset:d,isHorizontal:l}=e;const g=l?n.clientWidth:n.clientHeight,i=l?n.offsetLeft:n.offsetTop,m=u&&l?s-i-g:i,_=o+d,y=g+m,C=g*.4;return m<=d?d=Math.max(m-C,0):_<=y&&(d=Math.min(d-(_-y-C),s-o)),d}function ns(e){let{selectedElement:n,containerSize:o,contentSize:s,isRtl:u,isHorizontal:d}=e;const l=d?n.clientWidth:n.clientHeight,g=d?n.offsetLeft:n.offsetTop,i=u&&d?s-g-l/2-o/2:g+l/2-o/2;return Math.min(s-o,Math.max(0,i))}const os=Symbol.for("vuetify:v-slide-group"),Qe=oe({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:os},nextIcon:{type:ke,default:"$next"},prevIcon:{type:ke,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...xe(),...vt(),...be(),...ft({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Le=ae()({name:"VSlideGroup",props:Qe(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:o}=n;const{isRtl:s}=Ge(),{displayClasses:u,mobile:d}=ht(e),l=Oe(e,e.symbol),g=Z(!1),i=Z(0),m=Z(0),_=Z(0),y=F(()=>e.direction==="horizontal"),{resizeRef:C,contentRect:x}=Be(),{resizeRef:h,contentRect:j}=Be(),R=F(()=>l.selected.value.length?l.items.value.findIndex(S=>S.id===l.selected.value[0]):-1),U=F(()=>l.selected.value.length?l.items.value.findIndex(S=>S.id===l.selected.value[l.selected.value.length-1]):-1);if(pt){let S=-1;He(()=>[l.selected.value,x.value,j.value,y.value],()=>{cancelAnimationFrame(S),S=requestAnimationFrame(()=>{if(x.value&&j.value){const D=y.value?"width":"height";m.value=x.value[D],_.value=j.value[D],g.value=m.value+1<_.value}if(R.value>=0&&h.value){const D=h.value.children[U.value];R.value===0||!g.value?i.value=0:e.centerActive?i.value=ns({selectedElement:D,containerSize:m.value,contentSize:_.value,isRtl:s.value,isHorizontal:y.value}):g.value&&(i.value=Me({selectedElement:D,containerSize:m.value,contentSize:_.value,isRtl:s.value,currentScrollOffset:i.value,isHorizontal:y.value}))}})})}const L=Z(!1);let $=0,k=0;function A(S){const D=y.value?"clientX":"clientY";k=(s.value&&y.value?-1:1)*i.value,$=S.touches[0][D],L.value=!0}function V(S){if(!g.value)return;const D=y.value?"clientX":"clientY",q=s.value&&y.value?-1:1;i.value=q*(k+$-S.touches[0][D])}function H(S){const D=_.value-m.value;i.value<0||!g.value?i.value=0:i.value>=D&&(i.value=D),L.value=!1}function I(){C.value&&(C.value[y.value?"scrollLeft":"scrollTop"]=0)}const w=Z(!1);function z(S){if(w.value=!0,!(!g.value||!h.value)){for(const D of S.composedPath())for(const q of h.value.children)if(q===D){i.value=Me({selectedElement:q,containerSize:m.value,contentSize:_.value,isRtl:s.value,currentScrollOffset:i.value,isHorizontal:y.value});return}}}function c(S){w.value=!1}function p(S){var D;!w.value&&!(S.relatedTarget&&((D=h.value)!=null&&D.contains(S.relatedTarget)))&&r()}function v(S){h.value&&(y.value?S.key==="ArrowRight"?r(s.value?"prev":"next"):S.key==="ArrowLeft"&&r(s.value?"next":"prev"):S.key==="ArrowDown"?r("next"):S.key==="ArrowUp"&&r("prev"),S.key==="Home"?r("first"):S.key==="End"&&r("last"))}function r(S){var D,q,Ae,Se,ze;if(h.value)if(!S)(D=mt(h.value)[0])==null||D.focus();else if(S==="next"){const ie=(q=h.value.querySelector(":focus"))==null?void 0:q.nextElementSibling;ie?ie.focus():r("first")}else if(S==="prev"){const ie=(Ae=h.value.querySelector(":focus"))==null?void 0:Ae.previousElementSibling;ie?ie.focus():r("last")}else S==="first"?(Se=h.value.firstElementChild)==null||Se.focus():S==="last"&&((ze=h.value.lastElementChild)==null||ze.focus())}function Y(S){const D=i.value+(S==="prev"?-1:1)*m.value;i.value=yt(D,0,_.value-m.value)}const K=F(()=>{let S=i.value>_.value-m.value?-(_.value-m.value)+Re(_.value-m.value-i.value):-i.value;i.value<=0&&(S=Re(-i.value));const D=s.value&&y.value?-1:1;return{transform:`translate${y.value?"X":"Y"}(${D*S}px)`,transition:L.value?"none":"",willChange:L.value?"transform":""}}),Q=F(()=>({next:l.next,prev:l.prev,select:l.select,isSelected:l.isSelected})),W=F(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!d.value;case!0:return g.value||Math.abs(i.value)>0;case"mobile":return d.value||g.value||Math.abs(i.value)>0;default:return!d.value&&(g.value||Math.abs(i.value)>0)}}),ee=F(()=>Math.abs(i.value)>0),he=F(()=>_.value>Math.abs(i.value)+m.value);return le(()=>t(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!y.value,"v-slide-group--has-affixes":W.value,"v-slide-group--is-overflowing":g.value},u.value,e.class],style:e.style,tabindex:w.value||l.selected.value.length?-1:0,onFocus:p},{default:()=>{var S,D,q;return[W.value&&t("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ee.value}],onClick:()=>ee.value&&Y("prev")},[((S=o.prev)==null?void 0:S.call(o,Q.value))??t(je,null,{default:()=>[t(G,{icon:s.value?e.nextIcon:e.prevIcon},null)]})]),t("div",{key:"container",ref:C,class:"v-slide-group__container",onScroll:I},[t("div",{ref:h,class:"v-slide-group__content",style:K.value,onTouchstartPassive:A,onTouchmovePassive:V,onTouchendPassive:H,onFocusin:z,onFocusout:c,onKeydown:v},[(D=o.default)==null?void 0:D.call(o,Q.value)])]),W.value&&t("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!he.value}],onClick:()=>he.value&&Y("next")},[((q=o.next)==null?void 0:q.call(o,Q.value))??t(je,null,{default:()=>[t(G,{icon:s.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:l.selected,scrollTo:Y,scrollOffset:i,focus:r}}}),et=Symbol.for("vuetify:v-tabs"),as=oe({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ce(gt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),tt=ae()({name:"VTab",props:as(),setup(e,n){let{slots:o,attrs:s}=n;const{textColorClasses:u,textColorStyles:d}=kt(e,"sliderColor"),l=F(()=>e.direction==="horizontal"),g=Z(!1),i=b(),m=b();function _(y){var x,h;let{value:C}=y;if(g.value=C,C){const j=(h=(x=i.value)==null?void 0:x.$el.parentElement)==null?void 0:h.querySelector(".v-tab--selected .v-tab__slider"),R=m.value;if(!j||!R)return;const U=getComputedStyle(j).color,L=j.getBoundingClientRect(),$=R.getBoundingClientRect(),k=l.value?"x":"y",A=l.value?"X":"Y",V=l.value?"right":"bottom",H=l.value?"width":"height",I=L[k],w=$[k],z=I>w?L[V]-$[V]:L[k]-$[k],c=Math.sign(z)>0?l.value?"right":"bottom":Math.sign(z)<0?l.value?"left":"top":"center",v=(Math.abs(z)+(Math.sign(z)<0?L[H]:$[H]))/Math.max(L[H],$[H])||0,r=L[H]/$[H]||0,Y=1.5;Et(R,{backgroundColor:[U,"currentcolor"],transform:[`translate${A}(${z}px) scale${A}(${r})`,`translate${A}(${z/Y}px) scale${A}(${(v-1)/Y+1})`,"none"],transformOrigin:Array(3).fill(c)},{duration:225,easing:Pt})}}return le(()=>{const y=se.filterProps(e);return t(se,de({symbol:et,ref:i,class:["v-tab",e.class],style:e.style,tabindex:g.value?0:-1,role:"tab","aria-selected":String(g.value),active:!1},y,s,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":_}),{...o,default:()=>{var C;return t(J,null,[((C=o.default)==null?void 0:C.call(o))??e.text,!e.hideSlider&&t("div",{ref:m,class:["v-tab__slider",u.value],style:d.value},null)])}})}),{}}});function ls(e){return e?e.map(n=>xt(n)?n:{text:n,value:n}):[]}const is=oe({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Qe({mandatory:"force"}),...wt(),...be()},"VTabs"),rs=ae()({name:"VTabs",props:is(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:o}=n;const s=pe(e,"modelValue"),u=F(()=>ls(e.items)),{densityClasses:d}=_t(e),{backgroundColorClasses:l,backgroundColorStyles:g}=$t(ne(e,"bgColor"));return Ct({VTab:{color:ne(e,"color"),direction:ne(e,"direction"),stacked:ne(e,"stacked"),fixed:ne(e,"fixedTabs"),sliderColor:ne(e,"sliderColor"),hideSlider:ne(e,"hideSlider")}}),le(()=>{const i=Le.filterProps(e);return t(Le,de(i,{modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},d.value,l.value,e.class],style:[{"--v-tabs-height":we(e.height)},g.value,e.style],role:"tablist",symbol:et}),{default:()=>[o.default?o.default():u.value.map(m=>t(tt,de(m,{key:m.text}),null))]})}),{}}}),us=a("div",{class:"mb-3 user-info-title"}," Username ",-1),cs={class:"mb-3 user-info"},ds=a("div",{class:"mb-3 user-info-title"}," E-mail ",-1),vs={class:"mb-3 user-info"},fs=a("div",{class:"user-info-title"}," Role ",-1),hs={key:0,class:"d-flex align-center mt-6 user-info"},ps={key:1,class:"role-checkbox"},ms={style:{color:"red","font-weight":"700"}},ys=a("span",null," 자신의 계정은 삭제할 수 없습니다. ",-1),gs={__name:"AdminUserInfo",props:{user:Object},setup(e){const n=e,o=b(!1);M("serverAddress");const s=M("userAddress"),u=M("auth");b(n.user.username),b(n.user.email);const d=b("");async function l(){const C=await fetch(`http://${s}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},credentials:"include"});C.ok?d.value=await C.json():alert("인증에 실패하였습니다.")}l();async function g(C){if(confirm("삭제하시겠습니까?"))try{if((await fetch(`http://${s}/api/delete/${C}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},credentials:"include"})).ok)alert("삭제되었습니다"),window.location.reload();else throw new Error("Delete request failed")}catch(h){console.error(h),alert("삭제 실패")}}const i=b(!1),m=b(!1),_=b(!1),y=b(!1);return n.user.roles.includes("ADMIN")&&(m.value=!0),n.user.roles.includes("MODERATOR")&&(_.value=!0),n.user.roles.includes("USER")&&(y.value=!0),(C,x)=>(P(),te(me,null,{default:f(()=>[t(X,{cols:"12"},{default:f(()=>[t(ce,null,{default:f(()=>[t(Vt,{class:"mt-6"},{default:f(()=>[t(me,null,{default:f(()=>[t(X,{cols:"12",md:"12",class:"d-flex align-center"},{default:f(()=>[a("div",null,[us,a("div",cs,B(n.user.username),1)])]),_:1}),t(X,{md:"12",cols:"12",class:"d-flex align-center"},{default:f(()=>[a("div",null,[ds,a("div",vs,B(n.user.email),1)])]),_:1}),t(X,{cols:"12",md:"12"},{default:f(()=>[fs,T(i)?N("",!0):(P(),O("div",hs,B(n.user.roles.join(", ")),1)),T(i)?(P(),O("div",ps,[t(ye,{modelValue:T(m),"onUpdate:modelValue":x[0]||(x[0]=h=>re(m)?m.value=h:null)},{default:f(()=>[E(" Admin")]),_:1},8,["modelValue"]),t(ye,{modelValue:T(y),"onUpdate:modelValue":x[1]||(x[1]=h=>re(y)?y.value=h:null)},{default:f(()=>[E("User")]),_:1},8,["modelValue"]),t(se,{style:{cursor:"pointer","margin-right":"20px"},onClick:x[2]||(x[2]=h=>i.value=!T(i))},{default:f(()=>[E(" 완료 ")]),_:1})])):N("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Ie),T(d)!=n.user.id?(P(),te(X,{key:0,cols:"12"},{default:f(()=>[t(ce,null,{default:f(()=>[a("div",null,[t(Yt,{modelValue:T(o),"onUpdate:modelValue":x[3]||(x[3]=h=>re(o)?o.value=h:null),label:"Confirm account deactivation"},null,8,["modelValue"])]),t(se,{disabled:!T(o),color:"error",class:"mt-3",onClick:x[4]||(x[4]=h=>g(n.user.id))},{default:f(()=>[E(" Deactivate Account ")]),_:1},8,["disabled"])]),_:1})]),_:1})):N("",!0),T(d)==n.user.id?(P(),te(X,{key:1,cols:"12"},{default:f(()=>[t(ce,null,{default:f(()=>[a("div",ms,[t(G,{icon:"ri-prohibited-2-line"}),ys])]),_:1})]),_:1})):N("",!0)]),_:1}))}},ks={class:"post-header"},ws={style:{"font-weight":"500","font-size":"small",display:"flex","align-items":"center"}},_s={style:{"margin-right":"10px"}},$s=["src"],Cs={style:{"margin-right":"5px"}},xs=a("span",null," • ",-1),bs={style:{"margin-left":"5px"}},Ts={class:"post-title"},Is={key:0},Vs=["innerHTML"],As={key:1},Ss=["innerHTML"],zs={class:"post-interactions-item",style:{"margin-left":"10px","margin-right":"10px"}},Bs={class:"post-interactions-item",style:{"margin-left":"10px","margin-right":"10px"}},Es={__name:"AdminPostModal",props:{post:Object},setup(e){M("serverAddress");const n=M("postAddress"),o=M("userAddress"),s=M("auth"),u=M("userProfileAddress"),d=b({username:"",email:"",storeFileName:""});async function l(){const v=await fetch(`http://${o}/api/getinfo`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"});if(!v.ok)console.error();else{const r=await v.json();d.value.username=r[0],d.value.email=r[1],d.value.storeFileName=r[2]}}l();const g=b("");async function i(){const v=await fetch(`http://${o}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"});if(!v.ok)alert("인증에 실패하였습니다.");else{const r=v.json();return g.value=await r,r}}i();const m=function(v){const r=new Date(v),Y=r.getFullYear(),K=r.getMonth()+1,Q=r.getDate(),W=r.getHours(),ee=r.getMinutes(),he=r.getSeconds();return`${Y}-${K}-${Q} ${W}:${ee}:${he}`},_=b([]),y=b([]),C=b(!1),x=b(!0),h=b(!1),j=b("펼치기");function R(){C.value=!C.value,C.value==!0?j.value="접기":j.value="펼치기"}const U=e;async function L(){const v=await i();(await fetch(`http://${n}/api/postlike/check/${U.post.postId}/${v}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"})).ok?k():console.error()}async function $(){const v=await i();(await fetch(`http://${n}/api/poststar/check/${U.post.postId}/${v}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"})).ok?A():console.error()}async function k(){const v=await fetch(`http://${n}/api/postlike/read/${U.post.postId}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"});v.ok?_.value=await v.json():console.error()}async function A(){const v=await fetch(`http://${n}/api/poststar/read/${U.post.postId}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"});v.ok?y.value=await v.json():console.error()}async function V(v){const r=await i();confirm("삭제하시겠습니까?")&&((await fetch(`http://${n}/api/post/delete/${v}/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"})).ok?(alert("삭제되었습니다."),window.location.reload()):(console.error(),alert("삭제할 수 없습니다.")))}const H=b([]);async function I(){const v=await fetch(`http://${n}/api/tagpost/read/${U.post.postId}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"});if(!v.ok)console.error();else{const r=await v.text();H.value=r.split()}}const w=We();function z(v){w.push({path:`/updatepost/${v}`})}k(),A(),I();async function c(){const v=await fetch(`http://${o}/api/whoAreYou/${U.post.userId}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include"});v.ok?p.value=await v.json():alert("인증에 실패하였습니다.")}c();const p=b([]);return(v,r)=>{const Y=ue("VIconBtn"),K=ue("font-awesome-icon"),Q=ue("IConBtn");return P(),te(Te,{class:"position-relative"},{default:f(()=>[t(T(ce),null,{default:f(()=>[t(T(X),{class:"mb-2"},{default:f(()=>[t(T(X),{class:"post-details"},{default:f(()=>[a("div",ks,[t(T(X),{class:"post-header"},{default:f(()=>[a("div",ws,[a("span",_s,[a("img",{class:"propile-img",src:T(p).profile?T(u)+T(p).profile:T($e)},null,8,$s)]),a("span",Cs,B(T(p).username),1),xs,a("span",bs,B(m(e.post.postCreateDt)),1),t(Y,{style:{"margin-left":"auto"}},{default:f(()=>[t(T(G),{ref:"postoptionactivator",icon:"ri-more-line",style:{cursor:"pointer"}},null,512),t(Ut,{modelValue:T(h),"onUpdate:modelValue":r[2]||(r[2]=W=>re(h)?h.value=W:null),activator:v.$refs.postoptionactivator,location:"bottom end",width:"auto",offset:"5px"},{default:f(()=>[t(Rt,null,{default:f(()=>[t(De,{link:""},{default:f(()=>[t(Ue,{onClick:r[0]||(r[0]=W=>z(e.post.postId)),style:{"font-size":"small"}},{default:f(()=>[E(" 수정 ")]),_:1})]),_:1}),t(De,{link:""},{default:f(()=>[t(Ue,{onClick:r[1]||(r[1]=W=>V(e.post.postId)),style:{"font-size":"small"}},{default:f(()=>[E(" 삭제 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","activator"])]),_:1})])]),_:1})]),a("div",Ts,[t(Ne,{style:{"font-weight":"700"}},{default:f(()=>[E(B(e.post.postTitle),1)]),_:1})]),t(T(Ie)),t(T(X),{class:"post-content, mt-2",style:{"margin-left":"5px"}},{default:f(()=>[T(C)?N("",!0):(P(),O("div",Is,[a("div",{class:"mb-1",innerHTML:e.post.postContent.length>100?e.post.postContent.slice(0,100)+"...":e.post.postContent},null,8,Vs),e.post.postContent.length>100?(P(),te(Y,{key:0,class:"detailContent",onClick:R},{default:f(()=>[E(B(T(j)),1)]),_:1})):N("",!0),(P(!0),O(J,null,ve(T(H),(W,ee)=>(P(),O("div",{key:ee,class:"mt-4",style:{color:"#8C57FF"}}," #"+B(W),1))),128))])),T(C)?(P(),O("div",As,[a("div",{class:"mb-1",innerHTML:e.post.postContent},null,8,Ss),e.post.postContent.length>100?(P(),te(Y,{key:0,class:"detailContent",onClick:R},{default:f(()=>[E(B(T(j)),1)]),_:1})):N("",!0),(P(!0),O(J,null,ve(T(H),(W,ee)=>(P(),O("div",{key:ee,class:"mt-4",style:{color:"#8C57FF"}}," #"+B(W),1))),128))])):N("",!0)]),_:1}),t(T(X),{style:{"margin-left":"6px"}},{default:f(()=>[t(Q,{onClick:L,style:{cursor:"pointer"}},{default:f(()=>[t(K,{icon:["far","thumbs-up"]})]),_:1}),a("span",zs,B(T(_)),1),t(Q,{onClick:$,style:{cursor:"pointer"}},{default:f(()=>[t(K,{icon:["far","star"]})]),_:1}),a("span",Bs,B(T(y)),1)]),_:1}),t(It,null,{default:f(()=>[t(se,{onClick:r[3]||(r[3]=W=>x.value=!T(x))},{default:f(()=>[E(" 댓글 ")]),_:1}),t(Mt),t(se,{icon:"",size:"small",onClick:r[4]||(r[4]=W=>x.value=!T(x))},{default:f(()=>[t(T(G),{icon:T(x)?"ri-arrow-up-s-line":"ri-arrow-down-s-line"},null,8,["icon"])]),_:1})]),_:1}),t(jt,null,{default:f(()=>[fe(a("div",null,[t(T(ce),null,{default:f(()=>[t(Bt,{postob:U.post},null,8,["postob"])]),_:1})],512),[[Ye,T(x)]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},Ps={style:{margin:"10px",display:"flex","justify-content":"space-between"}},js={style:{"font-size":"small","margin-left":"10px"}},Ds={class:"text-center"},Us={class:"text-center"},Rs={class:"text-center"},Ms={class:"text-center"},Ls={class:"text-center"},Fs={class:"text-center"},Gs={class:"text-center"},Os={class:"text-center",style:{width:"60pt"}},Hs={class:"text-center",style:{width:"100pt"}},Ys={class:"text-center",style:{width:"100pt"}},Ws={class:"text-center",style:{width:"100pt"}},Xs={class:"text-center",style:{width:"150pt"}},Ns={class:"text-center",style:{width:"50px"}},qs=["checked","onChange"],Ks={key:0,class:"post-body"},Zs={__name:"AdminUserPost",props:{user:Object},setup(e){const n=e,o=function(c){const p=new Date(c),v=p.getFullYear().toString().slice(-2),r=p.getMonth()+1,Y=p.getDate();return`${v}-${r}-${Y}`},s=M("postAddress"),u=M("userAddress"),d=M("auth");async function l(){try{const c=await fetch(`http://${s}/api/post/read/my/${n.user.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},credentials:"include"});c.ok||console.error();const p=await c.json();j.value=await Promise.all(p.map(async v=>{const r=await i(v.postId),Y=await m(v.postId),K=await g(v.userId);return{...v,likes:r,stars:Y,userInfo:K}})),h.value=[...j.value],x()}catch(c){console.error(c)}}l();async function g(c){const p=await fetch(`http://${u}/api/whoAreYou/${c}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},credentials:"include"});if(!p.ok)alert("인증에 실패하였습니다.");else return await p.json()}async function i(c){const p=await fetch(`http://${s}/api/postlike/read/${c}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!p.ok)console.error();else return await p.json()}async function m(c){const p=await fetch(`http://${s}/api/poststar/read/${c}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},credentials:"include"});if(!p.ok)console.error();else return await p.json()}const _=b("desc"),y=b("id");function C(c){y.value===c?_.value=_.value==="asc"?"desc":"asc":(y.value=c,_.value="asc"),x()}function x(){y.value,y.value,y.value,y.value;const c=V.value.map((p,v)=>p?h.value[v].id:null);h.value.sort((p,v)=>{const r=_.value==="asc"?-1:1;switch(y.value){case"id":return r*(p.postId-v.postId);case"title":return r*p.postTitle.localeCompare(v.postTitle);case"writer":return r*p.userInfo.username.localeCompare(v.userInfo.username);case"like":return r*(p.likes-v.likes);case"star":return r*(p.stars-v.stars);case"date":return r*(new Date(p.postCreateDt)-new Date(v.postCreateDt));default:return 0}}),V.value=h.value.map(p=>c.includes(p.postId))}M("serverAddress");const h=b([]),j=b([]),R=b([]),U=b(!1);function L(c){U.value=!U.value,R.value=c,bt.emit("PostLikeSortModal",!0)}function $(){U.value=!U.value}async function k(){const c=await fetch(`http://${u}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},credentials:"include"});if(!c.ok)alert("인증에 실패하였습니다.");else return c.json()}async function A(c){const p=await k();(await fetch(`http://${s}/api/post/delete/${c}/${p}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},credentials:"include"})).ok?l():(alert(c+"를 삭제할 수 없습니다."),console.error())}const V=b([]);async function H(){const c=[];if(V.value.forEach((v,r)=>{v&&c.push(h.value[r].postId)}),c.length===0){alert("삭제할 게시물을 선택하십시오.");return}if(confirm("삭제하시겠습니까?"))try{for(const v of c)await A(v);V.value=[],alert("삭제되었습니다")}catch(v){console.error(v),alert("삭제 실패")}}const I=b(!1);function w(){V.value=h.value.map(()=>I.value)}function z(c){V.value[c]=!V.value[c],I.value=V.value.every(p=>p)}return(c,p)=>{const v=ue("VIconBtn");return P(),O(J,null,[a("div",Ps,[a("span",js," total : "+B(j.value.length),1),t(v,{style:{"margin-right":"10px",cursor:"pointer"},onClick:H},{default:f(()=>[E(" 삭제 ")]),_:1})]),t(Ve,{density:"comfortable","fixed-header":"",height:"440"},{default:f(()=>[a("thead",null,[a("tr",null,[a("th",Ds,[E(" No "),t(G,{size:"12pt",icon:y.value==="id"?_.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:p[0]||(p[0]=r=>C("id"))},null,8,["icon"])]),a("th",Us,[E(" Title "),t(G,{size:"12pt",icon:y.value==="title"?_.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:p[1]||(p[1]=r=>C("title"))},null,8,["icon"])]),a("th",Rs,[E(" Writer "),t(G,{size:"12pt",icon:y.value==="writer"?_.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:p[2]||(p[2]=r=>C("writer"))},null,8,["icon"])]),a("th",Ms,[E(" Like "),t(G,{size:"12pt",icon:y.value==="like"?_.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:p[3]||(p[3]=r=>C("like"))},null,8,["icon"])]),a("th",Ls,[E(" Star "),t(G,{size:"12pt",icon:y.value==="star"?_.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:p[4]||(p[4]=r=>C("star"))},null,8,["icon"])]),a("th",Fs,[E(" Date "),t(G,{size:"12pt",icon:y.value==="date"?_.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:p[5]||(p[5]=r=>C("date"))},null,8,["icon"])]),a("th",Gs,[fe(a("input",{type:"checkbox","onUpdate:modelValue":p[6]||(p[6]=r=>I.value=r),onChange:w},null,544),[[Xe,I.value]])])])]),a("tbody",null,[(P(!0),O(J,null,ve(h.value,(r,Y)=>(P(),O("tr",{key:Y},[a("td",Os,B(r.postId),1),a("td",null,[t(v,{class:"text-center",onClick:K=>L(r),style:{cursor:"pointer",color:"#8C57FF"}},{default:f(()=>[E(B(r.postTitle),1)]),_:2},1032,["onClick"])]),a("td",Hs,B(r.userInfo.username),1),a("td",Ys,B(r.likes),1),a("td",Ws,B(r.stars),1),a("td",Xs,B(o(r.postCreateDt)),1),a("td",Ns,[a("input",{type:"checkbox",checked:V.value[Y],onChange:_e(K=>z(Y),["stop"])},null,40,qs)])]))),128))])]),_:1}),U.value?(P(),O("div",{key:0,class:"post-wrap",onClick:$},[a("div",{class:"post-container",onClick:p[7]||(p[7]=_e(()=>{},["stop"]))},[R.value?(P(),O("div",Ks,[t(X,null,{default:f(()=>[t(X,null,{default:f(()=>[a("div",{style:{display:"flex","justify-content":"flex-end"},onClick:$},[t(G,{icon:"ri-close-line",style:{cursor:"pointer"}})])]),_:1})]),_:1}),t(Es,{post:R.value},null,8,["post"])])):N("",!0)])])):N("",!0)],64)}}},Js={style:{margin:"10px",display:"flex","justify-content":"space-between"}},Qs={style:{"font-size":"small","margin-left":"10px"}},en={class:"text-center"},tn={class:"text-center"},sn={class:"text-center"},nn={class:"text-center"},on={class:"text-center"},an={class:"text-center"},ln={class:"text-center"},rn={class:"text-center",style:{width:"60pt"}},un={class:"text-center",style:{width:"100pt"}},cn={class:"text-center",style:{width:"100pt"}},dn={class:"text-center",style:{width:"100pt"}},vn={class:"text-center",style:{width:"150pt"}},fn={class:"text-center",style:{width:"50px"}},hn=["checked","onChange"],pn={__name:"AdminUserWiki",props:{user:Object},setup(e){const n=e,o=function(I){const w=new Date(I),z=w.getFullYear().toString().slice(-2),c=w.getMonth()+1,p=w.getDate();return`${z}-${c}-${p}`},s=b("desc"),u=b("id");function d(I){u.value===I?s.value=s.value==="asc"?"desc":"asc":(u.value=I,s.value="asc"),l()}function l(){u.value,u.value,u.value,u.value;const I=$.value.map((w,z)=>w?_.value[z].id:null);_.value.sort((w,z)=>{const c=s.value==="asc"?-1:1;switch(u.value){case"id":return c*(w.wikiId-z.wikiId);case"title":return c*w.wikiTitle.localeCompare(z.wikiTitle);case"category":return c*w.category.name.localeCompare(z.category.name);case"like":return c*(w.likes-z.likes);case"star":return c*(w.stars-z.stars);case"date":return c*(new Date(w.wikiCreateDt)-new Date(z.wikiCreateDt));default:return 0}}),$.value=_.value.map(w=>I.includes(w.id))}M("serverAddress");const g=M("wikiAddress"),i=M("userAddress"),m=M("auth"),_=b([]),y=b([]);async function C(){const I=await fetch(`http://${i}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},credentials:"include"});if(!I.ok)alert("인증에 실패하였습니다.");else return I.json()}async function x(){try{const I=await C(),w=await fetch(`http://${g}/api/wiki/read/my/${n.user.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},credentials:"include"});w.ok||console.error(error);const z=await w.json();y.value=await Promise.all(z.map(async c=>{const p=await h(c.wikiId),v=await j(c.wikiId);return{...c,likes:p,stars:v}})),_.value=[...y.value],l()}catch(I){console.error(I)}}x();async function h(I){const w=await fetch(`http://${g}/api/wikilike/read/${I}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!w.ok)console.error(error);else return await w.json()}async function j(I){const w=await fetch(`http://${g}/api/wikistar/read/${I}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},credentials:"include"});if(!w.ok)console.error(error);else return await w.json()}const R=We();function U(I){R.push({path:`/readwiki/${I}`})}async function L(I){const w=await C();(await fetch(`http://${g}/api/wiki/delete/${I}/${w}`,{method:"DELETE",headers:{"Content-Type":"application/json"},Authorization:`Bearer ${m}`,credentials:"include"})).ok||(alert(I+"를 삭제할 수 없습니다."),console.error(error))}const $=b([]);async function k(){const I=[];if($.value.forEach((z,c)=>{z&&I.push(_.value[c].wikiId)}),I.length===0){alert("삭제할 위키를 선택하십시오.");return}if(confirm("삭제하시겠습니까?"))try{for(const z of I)await L(z);$.value=[],alert("삭제되었습니다"),x()}catch(z){console.error(z),alert("삭제 실패")}}const A=b(!1);function V(){$.value=_.value.map(()=>A.value)}function H(I){$.value[I]=!$.value[I],A.value=$.value.every(w=>w)}return(I,w)=>{const z=ue("VIconBtn");return P(),O(J,null,[a("div",Js,[a("span",Qs," total : "+B(y.value.length),1),t(z,{style:{"margin-right":"10px",cursor:"pointer"},onClick:k},{default:f(()=>[E(" 삭제 ")]),_:1})]),t(Ve,{density:"comfortable","fixed-header":"",height:"440"},{default:f(()=>[a("thead",null,[a("tr",null,[a("th",en,[E(" No "),t(G,{size:"12pt",icon:u.value==="id"?s.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:w[0]||(w[0]=c=>d("id"))},null,8,["icon"])]),a("th",tn,[E(" Title "),t(G,{size:"12pt",icon:u.value==="title"?s.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:w[1]||(w[1]=c=>d("title"))},null,8,["icon"])]),a("th",sn,[E(" Category "),t(G,{size:"12pt",icon:u.value==="category"?s.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:w[2]||(w[2]=c=>d("category"))},null,8,["icon"])]),a("th",nn,[E(" Like "),t(G,{size:"12pt",icon:u.value==="like"?s.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:w[3]||(w[3]=c=>d("like"))},null,8,["icon"])]),a("th",on,[E(" Star "),t(G,{size:"12pt",icon:u.value==="star"?s.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:w[4]||(w[4]=c=>d("star"))},null,8,["icon"])]),a("th",an,[E(" Date "),t(G,{size:"12pt",icon:u.value==="date"?s.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:w[5]||(w[5]=c=>d("date"))},null,8,["icon"])]),a("th",ln,[fe(a("input",{type:"checkbox","onUpdate:modelValue":w[6]||(w[6]=c=>A.value=c),onChange:V},null,544),[[Xe,A.value]])])])]),a("tbody",null,[(P(!0),O(J,null,ve(_.value,(c,p)=>(P(),O("tr",{key:p},[a("td",rn,B(c.wikiId),1),a("td",null,[t(z,{class:"text-center",style:{cursor:"pointer",color:"#8C57FF"},onClick:v=>U(c.wikiId)},{default:f(()=>[E(B(c.wikiTitle),1)]),_:2},1032,["onClick"])]),a("td",un,B(c.category.name),1),a("td",cn,B(c.likes),1),a("td",dn,B(c.stars),1),a("td",vn,B(o(c.wikiCreateDt)),1),a("td",fn,[a("input",{type:"checkbox",checked:$.value[p],onChange:v=>H(p)},null,40,hn)])]))),128))])]),_:1})],64)}}},mn={class:"account-info"},yn={class:"account-info"},gn={__name:"AdminUserDetail",props:{user:Object},setup(e){const n=e,o=M("userProfileAddress");M("userProfileAddress");const s=M("userAddress"),u=M("auth"),d=b([]);async function l(){const y=await fetch(`http://${s}/api/whoAreYou/${n.user.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},credentials:"include"});y.ok?d.value=await y.json():alert("인증에 실패하였습니다.")}l();const g={avatarImg:$e};b(structuredClone(g));const i=Tt(),m=b(i.params),_=["User","Post","Wiki"];return(y,C)=>(P(),te(me,null,{default:f(()=>[t(X,null,{default:f(()=>[t(Te,{title:"Account Details"},{default:f(()=>[t(ce,{class:"d-flex"},{default:f(()=>[t(Lt,{rounded:"lg",size:"150",class:"me-6",image:T(d).profile?T(o)+T(d).profile:T($e)},null,8,["image"]),a("div",null,[a("div",mn,[a("span",null,B(T(d).username),1)]),a("div",yn,[a("span",null,B(T(d).email),1)])])]),_:1}),t(Ie),a("div",null,[t(rs,{modelValue:T(m),"onUpdate:modelValue":C[0]||(C[0]=x=>re(m)?m.value=x:null),"show-arrows":""},{default:f(()=>[(P(),O(J,null,ve(_,(x,h)=>t(tt,{key:h,value:x},{default:f(()=>[t(G,{size:"20",start:""}),E(" "+B(x),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),t(ts,{modelValue:T(m),"onUpdate:modelValue":C[1]||(C[1]=x=>re(m)?m.value=x:null),class:"mt-5 disable-tab-transition",touch:!1},{default:f(()=>[t(ge,{value:"User"},{default:f(()=>[t(gs,{user:n.user},null,8,["user"])]),_:1}),t(ge,{value:"Post"},{default:f(()=>[t(Zs,{user:n.user},null,8,["user"])]),_:1}),t(ge,{value:"Wiki"},{default:f(()=>[t(pn,{user:n.user},null,8,["user"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1}))}},kn={style:{margin:"10px",display:"flex","justify-content":"space-between"}},wn={style:{"font-size":"small","margin-left":"10px"}},_n={class:"text-center"},$n={class:"text-center"},Cn={class:"text-center"},xn=a("th",{class:"text-center"}," role ",-1),bn={class:"text-center",style:{width:"60pt"}},Tn={class:"text-center"},In={class:"text-center"},Vn={key:0,class:"user-body"},An={__name:"AdminUserList",setup(e){M("serverAddress");const n=M("userAddress"),o=M("auth"),s=b("desc"),u=b("id");function d($){u.value===$?s.value=s.value==="asc"?"desc":"asc":(u.value=$,s.value="asc"),l()}function l(){u.value,u.value,u.value,g.value.sort(($,k)=>{const A=s.value==="asc"?-1:1;switch(u.value){case"id":return A*($.id-k.id);case"username":return A*$.username.localeCompare(k.username);case"email":return A*$.email.localeCompare(k.email);case"role":return A*$.roles[0].localeCompare(k.roles[0]);default:return 0}})}const g=b([]),i=b([]);async function m(){const $=await fetch(`http://${n}/api/user/allusers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},credentials:"include"});$.ok?(i.value=await $.json(),await Promise.all(i.value.map(async k=>{k.roles=await _(k.id)})),g.value=[...i.value],l()):console.error(error)}async function _($){const k=await fetch(`http://${n}/api/user/userrole/${$}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},credentials:"include"});if(!k.ok)console.error(error);else return(await k.json()).map(V=>V.role.role.substring(5))}m();const y=b({username:"",email:""}),C=b("");async function x(){const $=await fetch(`http://${n}/api/getuserid`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},credentials:"include"});$.ok?(C.value=await $.json(),h()):alert("인증에 실패하였습니다.")}x();async function h(){const $=await fetch(`http://${n}/api/whoAreYou/${C.value}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},credentials:"include"});if(!$.ok)alert("인증에 실패하였습니다.");else{const k=await $.json();y.value.username=k[0],y.value.email=k[1]}}const j=b(!1),R=b([]);function U($){j.value=!j.value,R.value=$}function L(){j.value=!j.value}return($,k)=>{const A=ue("VIconBtn");return P(),O(J,null,[a("div",kn,[a("span",wn," total : "+B(i.value.length),1)]),t(Ve,{density:"comfortable","fixed-header":"",height:"440"},{default:f(()=>[a("thead",null,[a("tr",null,[a("th",_n,[E(" No "),t(G,{size:"12pt",icon:u.value==="id"?s.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:k[0]||(k[0]=V=>d("id"))},null,8,["icon"])]),a("th",$n,[E(" username "),t(G,{size:"12pt",icon:u.value==="username"?s.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:k[1]||(k[1]=V=>d("username"))},null,8,["icon"])]),a("th",Cn,[E(" E-mail "),t(G,{size:"12pt",icon:u.value==="email"?s.value==="asc"?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-subtract-line",onClick:k[2]||(k[2]=V=>d("email"))},null,8,["icon"])]),xn])]),a("tbody",null,[(P(!0),O(J,null,ve(g.value,(V,H)=>(P(),O("tr",{key:H},[a("td",bn,B(V.id),1),a("td",null,[t(A,{class:"text-center",onClick:I=>U(V),style:{cursor:"pointer",color:"#8C57FF"}},{default:f(()=>[E(B(V.username),1)]),_:2},1032,["onClick"])]),a("td",Tn,B(V.email),1),a("td",In,B(V.roles.join(", ").replace(/"/g,"")),1)]))),128))])]),_:1}),j.value?(P(),O("div",{key:0,class:"user-wrap",onClick:L},[a("div",{class:"user-container",onClick:k[3]||(k[3]=_e(()=>{},["stop"]))},[R.value?(P(),O("div",Vn,[t(gn,{user:R.value},null,8,["user"])])):N("",!0)])])):N("",!0)],64)}}},Yn={__name:"AdminUser",setup(e){return(n,o)=>(P(),te(me,{class:"mb-2"},{default:f(()=>[t(X,{cols:"12",md:"12"},{default:f(()=>[t(Te,null,{default:f(()=>[t(Ne,{style:{margin:"10px"}},{default:f(()=>[E("User")]),_:1}),a("div",null,[t(An)])]),_:1})]),_:1})]),_:1}))}};export{Yn as default};
