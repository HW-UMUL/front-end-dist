import{i as k,H as x,r as p,D as y,q as T,E as v,o as C,c as j,b as e,w as t,u as a,a as l,M as u,P as M,N as L}from"./index-Csy_03Ik.js";import{l as I}from"./logo-CN7Tv9Sa.js";import{a as N,b as A,c as B,d as D}from"./auth-v1-tree-CV0P3Vqe.js";import{b as P,f as R,c as S,d as f,V as $,a as m}from"./VCard-Dn6rlqdV.js";import{V as c}from"./VImg-AgknyUsB.js";import{V as H}from"./VForm-DZ8uuMSf.js";import{V as h}from"./VTextField-C2KP5el_.js";import"./VGrid-CkWBtd8r.js";import"./VInput-D2rLtPSR.js";import"./index-Duozb8DO.js";const z={class:"auth-wrapper d-flex align-center justify-center pa-4"},E={class:"d-flex"},F=["innerHTML"],O=l("h5",{class:"text-h5 font-weight-semibold mb-1 text-center"}," 우리들의 물음표 우물 👋🏻 ",-1),U=l("div",{class:"d-flex align-center justify-space-between flex-wrap mt-1 mb-4"},null,-1),se={__name:"login",setup(q){const V=k("userAddress"),w=x(),o=p({usernmae:"",password:"",remember:!1}),_=y(),b=T(()=>_.global.name.value==="light"?N:A),n=p(!1);async function g(){const d={username:o.value.username,password:o.value.password},s=await fetch(`http://${V}/api/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!s.ok)alert("실패!");else{console.log(await s.headers.get("Authorization"));const i=await s.headers.get("Authorization").substr(7);sessionStorage.setItem("myname",d.username),$cookies.set("jwtToken",i),w.push({path:"/"})}}return(d,s)=>{const i=v("RouterLink");return C(),j("div",z,[e(P,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:t(()=>[e(R,{class:"justify-center"},{prepend:t(()=>[l("div",E,[l("div",{innerHTML:a(I)},null,8,F)])]),default:t(()=>[e(S,{class:"my-logo-font"},{default:t(()=>[u(" 우 물 ")]),_:1})]),_:1}),e(f,{class:"pt-2"},{default:t(()=>[O]),_:1}),e(f,null,{default:t(()=>[e(H,{onSubmit:M(()=>{},["prevent"])},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[e(h,{modelValue:a(o).username,"onUpdate:modelValue":s[0]||(s[0]=r=>a(o).username=r),label:"ID",type:"text"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(h,{modelValue:a(o).password,"onUpdate:modelValue":s[1]||(s[1]=r=>a(o).password=r),label:"Password",placeholder:"············",type:a(n)?"text":"password","append-inner-icon":a(n)?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":s[2]||(s[2]=r=>n.value=!a(n))},null,8,["modelValue","type","append-inner-icon"]),U,e(L,{onClick:s[3]||(s[3]=r=>g())},{default:t(()=>[u(" Login ")]),_:1})]),_:1}),e(m,{cols:"12",class:"text-center text-base"},{default:t(()=>[e(i,{class:"text-primary ms-2",to:"/register"},{default:t(()=>[u(" Create an account ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(c,{class:"auth-footer-start-tree d-none d-md-block",src:a(B),width:250},null,8,["src"]),e(c,{src:a(D),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),e(c,{class:"auth-footer-mask d-none d-md-block",src:a(b)},null,8,["src"])])}}};export{se as default};
